# V8的内存管理机制

## 组成
- 代码区（Code Segment）：存放即将执行的代码片段
- 栈（Stack）：存放局部变量
- 堆（Heap）：存放对象、闭包上下文
- 堆外内存：不通过V8分配，也不受V8管理。Buffer对象的数据就存放于此。

## 栈

栈（Stack）的分配与回收非常直接，当程序离开某作用域后，其栈指针下移（回退），整个作用域的局部变量都会出栈，内存收回

## 堆
Generation(年代)
- 新生代：年轻的新对象，未经历垃圾回收或仅经历过一次
- 老年代：存活时间长的老对象，经历过一次或更多次垃圾回收的对象

> Scavenge算法 :新生代的总空间一分为二，只使用其中一个(From)，另一个处于闲置o(t)，等待垃圾回收时使用。

> 对老年代的对象进行 标记清除(Mark-Sweep)和标记整理(Mark-Compact) 回收内存
增量标记（Incremental Marking）：将标记阶段分为若干小步骤，每个步骤控制在5ms内，避免卡顿

